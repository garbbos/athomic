var MYPDF=(function(){var m,b={},l,h,i,g,j,f,n,d,k;function c(a){if(a){return a}else{return""}}function e(a){if(isNaN(a)){a=Number(a)}return a}b.init=function(){m=new jsPDF();l=20;h=24;i=0;g=0;j=0;f=0;n="client";d="0000";k=132;m.setTextColor(100);m.setFontType("bold")},b.client=function(a){var o=68;if(a){m.setFillColor(220,220,220);m.rect(120,52,64,17,"F");m.setFillColor("white");m.setFontSize(22);m.text(122,63,c(a.name));m.setFontSize(9);m.text(122,51,"Bill to: ");m.text(166,68,c(a.cif));m.text(122,75,"Tel: "+c(a.telefono));m.text(122,80,c(a.email));m.text(122,85,c(a.url));m.text(122,90,c(a.domicilio));m.text(122,95,c(a.provincia));m.text(142,95,c(a.cp));m.text(122,100,c(a.pais));b.save()}},b.setup=function(o){var p,a=0;if(o){window.console.log(JSON.stringify(o));a=80;m.rect(l,h,a,(h+24),"F");m.setTextColor(222,222,222);m.setFontSize(28);m.text(l,21,c(o[1]));l=l+2;h=h+3;m.setFontSize(9);for(p in o){if(o.hasOwnProperty(p)){if(o[p]){if(p!=="1"){h=h+5;m.text(l,h,c(o[p]))}}}}m.setTextColor(100)}},b.fac=function(a){if(a){window.console.log(JSON.stringify(a));m.setFontSize(12);m.setFontType("bold");m.text(25,119,"Invoice ID: "+a);d=a}},b.date=function(a){if(a){window.console.log(JSON.stringify(a));m.setFontSize(12);m.setFontType("bold");m.text(168,119,a)}},b.name=function(a){if(a){n=a}},b.bill=function(o){var a=0;if(o){m.setFontSize(10);m.line(20,126,190,126);m.text(22,125,"Description");m.text(100,125,"Qty.");m.text(136,125,"Unit Price");m.text(168,125,"Total");a=e(o.precio);window.console.log("Bills total "+a);m.text(22,k,o.concepto);m.text(100,k,o.cantidad);m.text(136,k,a);i=(a*e(o.cantidad));i=e(i);j=i+j;window.console.log("Subtotal "+j);m.text(168,k,i.toString());k=k+5}},b.save=function(){var a;g=(j*0.21);g=e(g);f=j+g;f=e(f);j=e(j);m.setFontSize(11);a=(180-j.toFixed(2).toString().length);m.text(122,259,"Subtotal ");m.text(a,259,j.toFixed(2).toString());window.console.log(a+" subtotal "+j);m.text(122,264,"Tax: 21%");a=((180-g.toFixed(2).toString().length));window.console.log(a+"iva "+g);m.text(a,264,g.toFixed(2).toString());m.line(168,268,190,268);m.text(122,276,"TOTAL");a=(180-f.toFixed(2).toString().length);window.console.log(a+"Totalbill "+f);m.text(a,276,f.toFixed(2).toString());m.text(40,260,"COMMENTS:");m.setFontSize(10);m.rect(20,120,170,130);m.setFontSize(7);m.line(20,288,190,288);m.text("@2016 Athomic WebApp.",40,293);m.save(n+d+".pdf");a=0,g=0,j=0,f=0};return b}());